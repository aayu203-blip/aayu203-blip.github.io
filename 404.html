<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Redirecting…</title>
<meta name="robots" content="noindex"/>
<style>
  body { font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 2rem; color: #111; }
  .box { max-width: 640px; margin: 10vh auto; padding: 2rem; border: 1px solid #ffe08a; border-radius: 16px; background: #fff8e1; }
  h1 { margin: 0 0 0.5rem 0; font-size: 1.5rem; }
  p { margin: 0.25rem 0; color: #444; }
  code { background: #fff; padding: 2px 6px; border-radius: 6px; border: 1px solid #eee; }
  a { color: #b7791f; }
  .hidden { display: none; }
  .spinner { width: 16px; height: 16px; border: 2px solid rgba(0,0,0,0.1); border-top-color: #b7791f; border-radius: 50%; animation: spin 1s linear infinite; display: inline-block; vertical-align: middle; }
  @keyframes spin { to { transform: rotate(360deg); } }
  .small { font-size: 0.9rem; }
  .muted { color: #666; }
  .mt { margin-top: 0.75rem; }
  .mt2 { margin-top: 1.25rem; }
</style>
<script>
  (function() {
    function loadProductKeepURL(id, cleanPath) {
      fetch('/pages/products/' + id + '.html', { credentials: 'omit' })
        .then(function(res){ return res.text(); })
        .then(function(html){
          var modified = html.replace(/<head>/i, '<head><base href="/">');
          if (cleanPath && typeof history !== 'undefined' && history.replaceState) {
            history.replaceState({}, '', cleanPath);
          }
          document.open();
          document.write(modified);
          document.close();
        })
        .catch(function(){ window.location.replace('/'); });
    }
    function resolve() {
      try {
        var path = window.location.pathname || '';
        var clean = path.replace(/\/+$/, '');

        // Match /brand/category/123456
        var m1 = clean.match(/^\/[A-Za-z0-9_-]+\/[A-Za-z0-9_-]+\/(\d+)$/);
        if (m1 && m1[1]) {
          var id = m1[1];
          loadProductKeepURL(id, clean);
          return;
        }

        // Match /products/123456
        var m2 = clean.match(/^\/products\/(\d+)$/);
        if (m2 && m2[1]) {
          var id2 = m2[1];
          loadProductKeepURL(id2, clean);
          return;
        }

        // If already a file under /pages/products, keep 404 to avoid loop
        if (/^\/pages\/products\//.test(clean)) {
          return;
        }

        // Default: go home
        window.location.replace('/');
      } catch (e) {
        // If anything fails, still go home after a brief delay
        setTimeout(function(){ window.location.replace('/'); }, 500);
      }
    }

    // Run as soon as possible
    if (document.readyState === 'complete' || document.readyState === 'interactive') {
      resolve();
    } else {
      document.addEventListener('DOMContentLoaded', resolve);
    }
  })();
  </script>
</head>
<body>
  <div class="box">
    <h1>Redirecting <span class="spinner" aria-hidden="true"></span></h1>
    <p class="small">Trying to find the requested page…</p>
    <p class="small muted mt">If you are not redirected automatically, <a href="/">click here</a>.</p>
    <p class="small muted mt2">This fallback enables clean URLs like <code>/volvo/transmission/1656116</code> on GitHub Pages.</p>
  </div>
<!-- WhatsApp Floating Button -->
<a href="https://wa.me/919821037990?text=Hi!%20I%20need%20assistance%20with%20parts%20inquiry" target="_blank" rel="noopener noreferrer" class="fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white rounded-full p-4 shadow-2xl hover:shadow-green-500/50 transition-all duration-300 transform hover:scale-110 group" aria-label="Contact us on WhatsApp">
<svg class="w-8 h-8" fill="white" viewBox="0 0 24 24">
<path d="M24 11.7c0 6.45-5.27 11.68-11.78 11.68-2.07 0-4-.53-5.7-1.45L0 24l2.13-6.27a11.57 11.57 0 0 1-1.7-6.04C.44 5.23 5.72 0 12.23 0 18.72 0 24 5.23 24 11.7M12.22 1.85c-5.46 0-9.9 4.41-9.9 9.83 0 2.15.7 4.14 1.88 5.76L2.96 21.1l3.8-1.2a9.9 9.9 0 0 0 5.46 1.62c5.46 0 9.9-4.4 9.9-9.83a9.88 9.88 0 0 0-9.9-9.83m5.95 12.52c-.08-.12-.27-.19-.56-.33-.28-.14-1.7-.84-1.97-.93-.26-.1-.46-.15-.65.14-.2.29-.75.93-.91 1.12-.17.2-.34.22-.63.08-.29-.15-1.22-.45-2.32-1.43a8.64 8.64 0 0 1-1.6-1.98c-.18-.29-.03-.44.12-.58.13-.13.29-.34.43-.5.15-.17.2-.3.29-.48.1-.2.05-.36-.02-.5-.08-.15-.65-1.56-.9-2.13-.24-.58-.48-.48-.65-.48-.17 0-.37-.03-.56-.03-.2 0-.5.08-.77.36-.26.29-1 .98-1 2.4 0 1.4 1.03 2.76 1.17 2.96.14.19 2 3.17 4.93 4.32 2.94 1.15 2.94.77 3.47.72.53-.05 1.7-.7 1.95-1.36.24-.67.24-1.25.17-1.37"></path>
</svg>
<span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse">!</span>
</a>
</body>
</html>


